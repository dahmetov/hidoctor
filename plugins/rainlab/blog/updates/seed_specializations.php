<?php namespace RainLab\Blog\Updates;

use Bedard\BlogTags\Models\Tag;
use Carbon\Carbon;
use RainLab\Blog\Models\Post;
use RainLab\Blog\Models\Category;
use October\Rain\Database\Updates\Seeder;
use RainLab\Blog\Models\Specialization;

class SeedSpecializations extends Seeder
{
    public $data = [
        "nevrologiya" => [
            "name" => "Неврология",
            "tags" => [
                "головокружение",
                "шум в ушах",
                "головная боль",
                "общая слабость",
                "быстрая утомляемость",
                "нарушение сна",
                "нарушение аппетита",
                "судороги",
                "боли в пояснице",
                "боли грудной клетке",
                "боли в ребрах, ягодицах",
                "боли в ногах",
                "тремор",
                "парезы",
                "головокружение",
                "параличи",
                "нарушение восприятия - галлюцинации",
                "нарушение сознания",
                "нарушения концентрации и памяти",
                "нарушение речи",
                "тревожность",
                "плаксивость",
                "навязчивые мысли",
                "апатия и безразличие ко всему",
                "атаксия",
            ]
        ],
        "kozhvenerolog" => [
            "name" => "Кожвенеролог",
            "tags" => [
                "Выпадение волос",
                "зуд",
                "жжение кожи",
                "пятна на коже",
                "пустула",
                "папула",
                "гнойничок",
                "веснушки",
                "бородавки",
                "чума",
                "язва",
                "ожог",
                "Алопеция",
                "Альбинизм",
                "Вирус герпеса человека (ВПЧ) Полип",
                "кожная гемангиома",
                "липома",
                "жировик",
                "угри",
                "себорея",
                "веснушки",
                "бородавки",
                "чума",
                "дерматит",
                "дифтерия кожи",
                "импетиго, корь",
                "крапивница",
                "лимфаденит",
                "саркома",
                "липодермоид",
                "лишай",
                "дерматит",
                "микоз",
                "мозли",
                "мраморная болезнь",
                "шанкр",
                "опоясывающий лишай",
                "оспа",
                "пиодермия",
                "подагра",
                "полипы",
                "поражения кожи",
                "пурпура",
                "пятнистая лихорадка",
                "ревматизм",
                "системная красная волчанка (СКВ)",
                "Розацеа",
                "фиброз кожи",
                "сифилис",
                "токсическое поражение кожи",
                "целлюлит",
                "чесотка",
                "эритема",
                "акродерматит",
                "васкулит",
            ]
        ],
        "lor" => [
            "name" => "ЛОР",
            "tags" => [
                "головные боли",
                "затруднение дыхания",
                "кашель",
                "насморк",
                "Ларингит",
                "фарингит",
                "ангина",
                "инородное тело",
                "отит",
                "искривление носовой перегородки",
                "ухудшение обоняния",
                "заложенность уха",
                "носовое кровотечение",
            ]
        ],
        "oftalmolog" => [
            "name" => "Офтальмолог",
            "tags" => [
                "боли в глазах",
                "светобоязнь",
                "ухудшение зрения",
                "зуд и покраснение в глазах",
                "вспышки перед глазами",
                "туманность",
                "искривление бокового/периферического зрения",
                "слепота",
                "катаракта",
                "увеит",
                "конъюнктивит",
                "дакриоцистит",
                "инородное тело",
                "аллергия",
                "глаукома",
                "лазер",
                "блефарит",
            ]
        ],
        "urolog" => [
            "name" => "Уролог",
            "tags" => [
                "зуд",
                "жжение",
                "учащение/затруднение мочеиспускания",
                "частые позывы на мочеиспускание",
                "ночные позывы",
                "боли в области поясницы",
                "боли внизу живота",
                "изменение цвета мочи",
                "запах в моче",
                "Пиелонефрит",
                "мочекаменная болезнь",
                "гипертония",
                "гидронефроз",
                "уретрит",
                "цистит",
                "камни",
                "простатит",
                "гиперплазия",
                "бесплодие",
                "опухоль почек",
            ]
        ],
        "mammolog" => [
            "name" => "Маммолог",
            "tags" => [
                "уплотнения в молочных железах",
                "болезненность",
                "припухлость",
                "покраснение",
                "боли в подмышечной области",
                "образования в молочных железах",
                "выделения из соска",
                "болезненность",
                "Мастит",
                "матопатия",
                "боли в молочных железах",
                "онклогия",
            ]
        ],
        "hirurgiya" => [
            "name" => "Хирургия",
            "tags" => [
                "Абсцесс",
                "асептический некроз кости",
                "асцит",
                "атрезия (аорты, желчных протоков, клапана легочной артерии, пищевода, хоан)",
                "ахалазия",
                "беременность внематочная",
                "болезнь крона",
                "болезнь Рейно",
                "боли",
                "брюшные спайки",
                "варикозное расширение вен",
                "венозная недостаточность",
                "гангрена (влажная",
                "газовая",
                "сухая",
                "легкого)",
                "гастродуоденальные язвы",
                "гематома",
                "геморрой",
                "гемоторакс",
                "грыжа",
                "дивертикул",
                "дисплазия",
                "дискинезия пищевода",
                "дисплазия",
                "дисфагия",
                "желудочно-пищеводный-разрывно-геморрагический синдром",
                "желчная киста",
                "желчекаменная болезнь",
                "острый живот",
                "заворот кишок",
                "застой и кровоизлияние",
                "новообразования",
                "перитонит",
                "перфорация",
                "пиоторакс",
                "полиомиелит",
                "ожоги",
                "прободение желчного пузыря",
                "прободение желчных протоков",
                "прободение кишечника",
                "прободение пищевода",
                "свищ",
                "разрыв",
                "рваная рана",
                "рефлюкс",
                "рубцы",
                "сепсис",
                "септицемия",
                "сосудистые болезни",
                "кровоизлияние",
                "травматический шок",
                "туберкулезное поражение органов",
                "язвы",
                "ушибы",
                "флебит",
                "тромбофлебит",
                "химический ожог",
                "холецистит",
                "холестероз",
                "шок",
                "эмболия",
                "эхинококкоз",
                "эрозия.",
            ]
        ],
        "infekcionnye-bolezni" => [
            "name" => "Инфекционные болезни",
            "tags" => [
                "аденовирус",
                "грипп",
                "анемия",
                "аскаридоз",
                "ВИЧ",
                "брюшной тиф",
                "бруцеллез",
                "Геморрагическая лихорадка",
                "Гепатит А",
                "Гепатит Б",
                "Гепатит Д",
                "Гепатит Е",
                "хронический гепатит",
                "Гепатолиальный синдром",
                "гепатоспленомегалия",
                "Герпес",
                "Грипп",
            ]
        ],
        "endokrinologiya" => [
            "name" => "Эндокринология",
            "tags" => [
                "Атеросклероз",
                "бесплодие",
                "болезнь Альцгеймера",
                "болезни бехтерева",
                "болезнь Иценко-Кушинга",
                "Болезнь Кашина-Бека",
                "болезнь Лайма",
                "Болезнь Паркинсона",
                "боли",
                "брадикардия",
                "Бессонница",
                "Васкулит",
                "гангрена",
                "хроническая почечная недостаточность",
                "деменция",
                "дерматит",
                "диабетическая ретинопатия",
                "диабетическая мононевропатия",
                "дисменорея",
                "инсулин",
                "Квашиоркор",
                "келлоидный рубец",
                "макрофтальм",
                "нарушение обмена веществ",
                "ожирение",
                "полидипсия",
                "гипотиреоз",
                "базедова болезнь",
                "тиреотоксикоз",
                "тиреоидит",
                "сахарный диабет",
                "гипоплазия вилочковой железы",
                "аутоиммунный тиреоидит",
                "зоб",
                "тиреотоксический криз",
                "угри",
                "узлы",
                "умственная отсталость",
                "АКТГ-синдром",
                "экзофтальм",
                "яичниковая недостаточность",
                "щитовидная железа",
                "гипофиз",
                "вилочковая железа",
                "тимус",
                "надпочечники",
            ]
        ]
    ];

    public function run()
    {
        if(Schema::hasTable('bedard_blogtags_tags') && Schema::hasTable('bedard_blogtags_specialization_tag')) {
            foreach ($this->data as $key => $specialization) {
                $specialization_created = Specialization::create([
                    'name' => $specialization['name'],
                    'slug' => $key,
                ]);
                foreach ($specialization['tags'] as $tag) {
                    if(Tag::where('slug', str_slug($tag))->count()) {
                        $tag_created = Tag::where('slug', str_slug($tag))->first();
                    } else {
                        $tag_created = Tag::create([
                            'name' => $tag,
                            'slug' => str_slug($tag)
                        ]);
                    }
                    $specialization_created->tags()->attach($tag_created);
                }
            }
        }
    }

}
